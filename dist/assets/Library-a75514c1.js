import{_ as Y}from"./pexels-godisable-jacob-718978-fotor-2023062243215-247636f2.js";import{d as U,r as _,g as G,h as H,o as a,c as n,i as t,a as b,k as f,b as w,j as B,l as m,t as E,C as j}from"./index-7f288414.js";import{_ as D}from"./Vector2-1f104793.js";import{P as N,d as V,_ as L,y as F,g as P}from"./index.esm2017-bf5df4d7.js";const X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANcSURBVHgB3ZpNUhpREMe734wBy42LHIAsUoVuorsshwtEc4JIlVKVVfAE4Ak0q1TUKvAEmsoBJCeQbJSqLMIBsmBjMSbjdPoNoHwJM28e86b8LQQpBudv9+tPEGaQzZ84gFDhpw4AtYHgwG2V6pBCcNqLowImrqi613sHkDJGhKzmaqvdZa/CL5bnXJU6MQ9CsvkvOUDrkl/KhbqScMdt7Z5BSgiERBbRu7BDZG+6rWIbUoAIfkYUISH2RECvBilBZPPHO1FFDOFk1r6WIQUIQPwAMRAgKtl8LQeGEYSwATFIi4sJJL6R+DhB7jGIAF30EqgxRFB66MGoVQQnth+gCUTcBkPIw94ETfDB3wJDiLuMXYdngIBmscOPDdABafocBYKo5QN+Bi1YxiriQMjfm92L2NELZdNlroB8zCPc/YEy2OD+pAoGeRDSa2HVrHKP/j4YZjSzExZBActHHWVOLEaEuK29BqhEMMPliWSy1lI7K+krGqVVSCUcI9Xk8AIMMbX6vctY1egHH3PdFc+Yi00v42W2Vzj46EM5mz+N1XGq8mQ/oupiiHS0tH4cq+tUYWZjpeJisvW1CS+T7uNnd4jsYvcI77nU70AEpBhE7ypJy8xtdf9dl5roU+TMLcVYhFdRxkXSiqqRD8O+kfNEVTXxkYCj5Vv7oNMudp74bIetfsg3M7BgA4jOokz+QwsJ/uDaSZ0fFKPS5Fpi/tA8/CojkhBJPDGS3s0JFDw7pipb4s3cSxDr4Fsz24TIQmCjtpq58y6H3CA5ZqwzoguRmBQTWHSpMG4dtQEdh2UeWhQ4MmmbwIQHeQXi/R6PhuqTxr4YADMDBwRxmF0/qTz+roH4ASAG/XOjRYgkTp6JC4G/b4EmvD/fG/bLd8hiHEgYXvK81WaRAb3VNtVibMGU0C5EIperhPZ5YuGZsL4QIQMSOzcEhYUKkaisvqPBw8Gb3YK+jdUTuK2Pbfem9ErWV1H7mlCQFbTkCxcygFvnKvreJj/V922JoXnzwl1rGiuvjzfubTiP4268xP3Zbe09BJPELDLM7a9Ss+duVFSbN1ObwB5Z8xmxyDgv1k63+T/6iW/QCfH2s2zXLo93m6kQMiCIcGA5JMQW54Ycgt93HWzzjX7jRuyiP5+e4D9k4UECEogGwgAAAABJRU5ErkJggg==",z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAqCAYAAADf/ynVAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOKSURBVHgBzVgxVhsxEJ2RFx4hRUJJHoF1kcSQAlPY0AVOQHICyAliTmA4AeQGcINwA9NhUuA0QCqvjXugSCDAaiKZZ7OSdmVhWOAXsCuNtN+j0ehrEO6I4+JUGYjmCcF3sUeCgIC2xn8ebcIdgHcxbhZzNQSchv5Qu748X8jWglMXYwaOaM1+KN2DlESeDQ6XXI2diXFi3+CeyAAtudo6LWWr8C5P6O0rH0EoXXM8s06O3Bd/y0ojo4W3u0cV6AEPHBCCtxx1rfg1wZvq4XeXsc3i5JKw9zvvnLN58a/Sa1zbY81Cbpkx9inJiItdGJ1cEhPuqIAD9LECp4j4I9Ge8x25g1EGNRFbh2cEjrDCCNgiPDMwDosMgW/DMwNnsN2NMREz5WgsiGz9iyHbhxTBic9Ec6OMXRGTazLG2rtSPjSKORGk6HeJieAeqx44J8R+0ChMbiDCbdJGqozv3Rxd0SwQRAeJZPgK0gbS6+hrSNDoPCdmfg44AimDIU4k9nUepAqIdiBPHpQWohwSPYaam9MAkSadOHaVR5dYmFE9RgBWYvW5nF+f9xNtZJ+0sc0hNpsyHgfIJAZa8IOFmDj/1j2Ode/vi5PWXG7J7H//2fszXJc2zeJHy6mirsp1yGKJGajnTY8IL8iz7zaNcFzVbRhkyp0dJxJ4qV6Yyptz5425hzLcJJbdPQoMw6GhvuKMa972MtycZ+jCaBuNcLB67CJkaW4A39apECM9yXLy4ZGA2rft0pqllzIyoeoxIlQuKQoxcW4FijHD1IiZc1MyMXGyN1TbFJOsNjcxOEskZgAxRWLq3AzoRH1XEURfUlUYFmUhYfVYmgrDpiza/dGXp1QY+retHotTGANh6FR76AWbsgCdmIvCuLp6GUQTMQFu6TYMefcyLBNn3M3bpiwMYuCgMLK12mkorvmC3Jf2dX/vYFW3Gav+3pD9Iml+vRo+n4FYJCuLG+IRSP0kpYoy4PJ8xLV05AqpLLzBf0p68BhlEw/xh1QYVvRQFgAOZaiUFIbfy8Ag9hQKA83YNomJBiWeKIOG+rwvBjgq9RIik5hRHxNHw44oaHTJiDOs3JqdmuAcduABIBTMhCg/lJQ2RoFhpzfE7cy0oe9ICWMp5c4UJcoVeDTg2mhMNkiswR4Xc6tG/fSBIZZ1Zax6uBHbZxsol5URloRbp42zrV8y7c1F2x6DzThPdfAfd1JYsTIdxJwAAAAASUVORK5CYII=",O={class:"container-fluid"},T={class:"row"},W={class:"w-80",style:{width:"85%"}},q=t("h3",null,[t("b",null,"CareFinder")],-1),Z=t("div",{class:"row",style:{width:"15%"}},[t("img",{src:Y,alt:"",srcset:"",class:"rounded-circle mt-3",style:{width:"100px",height:"100px"}})],-1),K=t("div",{class:"text-center"},[t("h4",null,"My Library"),t("p",null,"Book Appointment to visit saved hospitals")],-1),$={class:"row"},tt={class:"col-9"},st={class:"container-fluid"},et={key:0},ot=t("img",{src:j,style:{width:"20px"}},null,-1),it={class:"text-center"},ct={class:"text-center"},at={key:1},nt={class:"text-center mt-5"},rt=t("p",null,"You have not saved any Hospital.",-1),At=t("p",null,"And if you have, wait a while, yours hospitals are being fetched",-1),dt={class:"col-3"},lt={class:""},ht={class:"py-3"},pt=["onClick"],mt=["onClick"],bt=U({__name:"Library",setup(ut){const u=_(!1),l=_([]),g=N(),x=()=>{alert("Not Available")},I=async()=>{try{const e=await V(L(g,"hospitals"));l.value=e.docs.map(i=>({id:i.id,data:i.data()})),u.value=!0}catch(e){console.error("Error fetching saved hospitals:",e),alert(e)}},R=async e=>{try{await F(P(g,"hospitals",e)),alert("Hospital is being deleted, Refresh Browser")}catch(i){console.error("Unable to delete:",i),alert(i)}},k=e=>{const A=(J=>{const C=(v=>{const y={},d=(c,s)=>{if(typeof s=="object"&&s!==null){if(Array.isArray(s))s.forEach((r,S)=>{d(`${c}.${S}`,r)});else if(s instanceof Object&&!Array.isArray(s))for(const r in s)d(r==="address"?c:`${c}.${r}`,s[r])}else y[c]=s};for(const c in v)d(c,v[c]);return y})(J),M=Object.keys(C).join(",")+`
`,Q=Object.values(C).join(",")+`
`;return M+Q})(e.data),o=new Blob([A],{type:"text/csv;charset=utf-8;"}),h=URL.createObjectURL(o),p=document.createElement("a");p.href=h,p.setAttribute("download","hospital.csv"),p.click(),alert("Download Successful")};return G(()=>{I()}),(e,i)=>{const A=H("RouterLink");return a(),n("div",O,[t("div",T,[t("div",W,[b(A,{to:"/",class:"navbar-brand p-2 mt-3"},{default:f(()=>[q]),_:1})]),Z]),K,t("div",$,[t("div",tt,[t("div",st,[u.value?(a(),n("div",et,[(a(!0),n(w,null,B(l.value,o=>(a(),n("div",{key:o.id,class:"list-group-item",style:{"border-radius":"10px","margin-top":"25px",background:"#E0E4EC"}},[ot,t("span",null,[t("h6",it,E(o.data.name),1),t("p",ct,E(o.data.vicinity),1)])]))),128))])):(a(),n("div",at,[t("div",nt,[rt,t("p",null,[m("Proceed to "),b(A,{to:"/hospit"},{default:f(()=>[m("Find hospitals ")]),_:1}),m("and save them ")]),At])]))])]),t("div",dt,[t("div",lt,[(a(!0),n(w,null,B(l.value,o=>(a(),n("div",{key:o.id,class:"list-group-item py-3",style:{"border-radius":"10px","margin-top":"28px",background:"#E0E4EC"}},[t("div",ht,[t("img",{src:D,alt:"",srcset:"",class:"mx-3 btn",onClick:h=>k(o),style:{width:"20%",height:"60%"}},null,8,pt),t("img",{src:X,alt:"",srcset:"",class:"mx-4 btn",onClick:x,style:{width:"20%",height:"60%"}}),t("img",{src:z,alt:"",srcset:"",class:"mx-3 btn",onClick:h=>R(o.id),style:{width:"20%",height:"60%"}},null,8,mt)])]))),128))])])])])}}});export{bt as default};
